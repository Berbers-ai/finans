<!DOCTYPE html>
<html lang="nl" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Finans">
<meta name="theme-color" content="#0c0c0e">
<title>Finans</title>

<!-- PWA manifest inline -->
<script>
const manifest = {
  name: "Finans",
  short_name: "Finans",
  description: "Persoonlijk financieel dashboard",
  start_url: ".",
  display: "standalone",
  background_color: "#0c0c0e",
  theme_color: "#0c0c0e",
  icons: [
    { src: "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='22' fill='%230c0c0e'/><text y='.9em' font-size='72' x='14'>â‚£</text></svg>", sizes: "192x192", type: "image/svg+xml" }
  ]
};
const blob = new Blob([JSON.stringify(manifest)], {type:'application/json'});
const url = URL.createObjectURL(blob);
const link = document.createElement('link');
link.rel = 'manifest'; link.href = url;
document.head.appendChild(link);
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Geist:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOKENS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root[data-theme="dark"] {
  --bg:        #0c0c0e;
  --bg2:       #111114;
  --surface:   #18181c;
  --surface2:  #222228;
  --border:    #2a2a32;
  --border2:   #363640;
  --text:      #f0f0f4;
  --text2:     #9898a8;
  --text3:     #55555f;
  --accent:    #e2ff5d;
  --accent-fg: #0c0c0e;
  --blue:      #4f7eff;
  --red:       #ff5757;
  --green:     #3ecf8e;
  --shadow:    0 1px 3px rgba(0,0,0,.5), 0 8px 24px rgba(0,0,0,.3);
  --overlay:   rgba(0,0,0,.7);
}
:root[data-theme="light"] {
  --bg:        #f4f4f0;
  --bg2:       #eaeae6;
  --surface:   #ffffff;
  --surface2:  #f8f8f5;
  --border:    #e0e0da;
  --border2:   #ccccC4;
  --text:      #111112;
  --text2:     #6b6b78;
  --text3:     #aaaaB4;
  --accent:    #111112;
  --accent-fg: #f4f4f0;
  --blue:      #2553e8;
  --red:       #e03030;
  --green:     #15a368;
  --shadow:    0 1px 3px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.08);
  --overlay:   rgba(0,0,0,.4);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESET + BASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { font-size:14px; -webkit-text-size-adjust:100%; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Geist', system-ui, sans-serif;
  font-weight: 400;
  line-height: 1.5;
  min-height: 100vh;
  overflow-x: hidden;
  transition: background .2s, color .2s;
}
button { font-family: inherit; cursor: pointer; border: none; background: none; }
input, select, textarea { font-family: inherit; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LAYOUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.app { display: flex; min-height: 100vh; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SIDEBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.sidebar {
  width: 220px;
  background: var(--surface);
  border-right: 1px solid var(--border);
  position: fixed;
  top: 0; left: 0; bottom: 0;
  display: flex;
  flex-direction: column;
  z-index: 20;
  transition: transform .25s ease;
}
.sidebar-logo {
  padding: 26px 24px 18px;
  border-bottom: 1px solid var(--border);
}
.logo-mark {
  font-family: 'Instrument Serif', serif;
  font-size: 22px;
  letter-spacing: -.3px;
  color: var(--text);
}
.logo-mark em { font-style: italic; color: var(--text2); }
.sidebar-nav {
  padding: 10px 10px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1px;
  overflow-y: auto;
}
.nav-section {
  font-size: 10px;
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: var(--text3);
  padding: 10px 10px 4px;
}
.nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 9px 10px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 500;
  color: var(--text2);
  transition: background .12s, color .12s;
  user-select: none;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
}
.nav-item:hover { background: var(--surface2); color: var(--text); }
.nav-item.active { background: var(--accent); color: var(--accent-fg) !important; }
.nav-item.active svg * { stroke: var(--accent-fg) !important; }
.nav-ico { width: 15px; height: 15px; flex-shrink: 0; display:flex; align-items:center; }
.nav-ico svg { width:15px; height:15px; display:block; }

.sidebar-footer {
  padding: 12px 10px;
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.theme-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  border-radius: 7px;
  cursor: pointer;
  font-size: 12px;
  color: var(--text2);
  transition: background .12s;
}
.theme-row:hover { background: var(--surface2); }
.toggle-track {
  width: 30px; height: 16px;
  background: var(--border2);
  border-radius: 8px;
  position: relative;
  transition: background .2s;
  flex-shrink: 0;
}
[data-theme="light"] .toggle-track { background: var(--text); }
.toggle-thumb {
  width: 12px; height: 12px;
  background: white;
  border-radius: 50%;
  position: absolute;
  top: 2px; left: 2px;
  transition: transform .2s;
  box-shadow: 0 1px 3px rgba(0,0,0,.3);
}
[data-theme="light"] .toggle-thumb { transform: translateX(14px); }

/* mobile nav toggle */
.mob-header {
  display: none;
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 54px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  z-index: 30;
  align-items: center;
  padding: 0 16px;
  justify-content: space-between;
}
.mob-logo { font-family: 'Instrument Serif', serif; font-size: 18px; }
.mob-logo em { font-style: italic; color: var(--text2); }
.burger { display:flex; flex-direction:column; gap:4px; padding:6px; cursor:pointer; }
.burger span { display:block; width:18px; height:1.5px; background: var(--text); border-radius:1px; }
.mob-overlay { display:none; position:fixed; inset:0; background:var(--overlay); z-index:19; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.main {
  margin-left: 220px;
  flex: 1;
  padding: 32px 36px 80px;
  min-height: 100vh;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOPBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 28px;
  flex-wrap: wrap;
  gap: 12px;
}
.page-title {
  font-family: 'Instrument Serif', serif;
  font-size: 26px;
  letter-spacing: -.3px;
  font-weight: 400;
}
.page-title em { font-style: italic; color: var(--text2); }

.month-nav {
  display: flex;
  align-items: center;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  background: var(--surface);
}
.mnav-btn {
  padding: 7px 12px;
  color: var(--text2);
  font-size: 14px;
  transition: background .12s, color .12s;
  border: none; background: none; cursor: pointer;
}
.mnav-btn:hover { background: var(--surface2); color: var(--text); }
.mnav-label {
  padding: 7px 14px;
  font-size: 13px;
  font-weight: 500;
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
  color: var(--text);
  min-width: 120px;
  text-align: center;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   KPI ROW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}
.kpi {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px 22px 18px;
  position: relative;
  overflow: hidden;
  transition: box-shadow .2s;
}
.kpi:hover { box-shadow: var(--shadow); }
.kpi.netto { border-color: var(--green); background: linear-gradient(135deg, var(--surface) 50%, rgba(62,207,142,.05)); }
.kpi-label {
  font-size: 10px;
  font-weight: 600;
  letter-spacing: .07em;
  text-transform: uppercase;
  color: var(--text3);
  margin-bottom: 8px;
}
.kpi-value {
  font-family: 'Instrument Serif', serif;
  font-size: 30px;
  letter-spacing: -.8px;
  line-height: 1;
  color: var(--text);
}
.kpi-value.pos { color: var(--green); }
.kpi-value.neg { color: var(--red); }
.kpi-sub {
  margin-top: 8px;
  font-size: 11px;
  color: var(--text3);
  display: flex;
  align-items: center;
  gap: 6px;
}
.kpi-pill {
  display: inline-block;
  padding: 2px 7px;
  border-radius: 20px;
  font-size: 10px;
  font-weight: 600;
}
.kpi-pill.green { background: rgba(62,207,142,.12); color: var(--green); }
.kpi-pill.red   { background: rgba(255,87,87,.12);  color: var(--red); }
.kpi-bar {
  position: absolute;
  bottom: 0; left: 0; right: 0;
  height: 2px;
  background: var(--border);
}
.kpi-bar-fill {
  height: 100%;
  border-radius: 0;
  background: var(--green);
  transition: width .6s ease;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CARDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
  transition: box-shadow .2s;
}
.card:hover { box-shadow: var(--shadow); }
.card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px 14px;
  border-bottom: 1px solid var(--border);
}
.card-title { font-size: 13px; font-weight: 600; }
.card-action {
  font-size: 12px;
  color: var(--text3);
  cursor: pointer;
  transition: color .15s;
  background: none; border: none;
}
.card-action:hover { color: var(--text); }

.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 14px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CHART
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.chart-wrap { padding: 16px 20px; }
.chart-legend { display: flex; gap: 14px; margin-bottom: 14px; }
.legend-item { display: flex; align-items: center; gap: 5px; font-size: 11px; color: var(--text2); }
.legend-dot { width: 6px; height: 6px; border-radius: 50%; }
.bar-chart { display: flex; align-items: flex-end; gap: 5px; height: 100px; }
.bar-grp { flex: 1; display: flex; gap: 2px; align-items: flex-end; }
.bar { flex: 1; border-radius: 3px 3px 0 0; cursor: pointer; transition: opacity .15s; min-width: 0; }
.bar:hover { opacity: .7; }
.bar.in  { background: var(--green); opacity:.8; }
.bar.out { background: var(--blue);  opacity:.7; }
.chart-months {
  display: flex; gap: 5px;
  margin-top: 6px;
  padding-top: 8px;
  border-top: 1px solid var(--border);
}
.chart-month { flex: 1; text-align: center; font-size: 10px; color: var(--text3); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CATEGORIES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.cat-list { padding: 0 20px; }
.cat-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
}
.cat-row:last-child { border-bottom: none; }
.cat-dot { width: 7px; height: 7px; border-radius: 2px; flex-shrink: 0; }
.cat-name-wrap { flex: 1; }
.cat-name { font-size: 13px; font-weight: 500; }
.cat-count { font-size: 11px; color: var(--text3); margin-top: 1px; }
.cat-track { flex: 1.5; height: 3px; background: var(--border); border-radius: 2px; }
.cat-fill { height: 100%; border-radius: 2px; }
.cat-amount { font-size: 13px; font-weight: 500; min-width: 58px; text-align: right; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TRANSACTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tx-list { display: flex; flex-direction: column; }
.tx-group-label {
  font-size: 10px; font-weight: 600;
  letter-spacing: .07em; text-transform: uppercase;
  color: var(--text3);
  padding: 8px 20px 5px;
  background: var(--bg2);
  border-bottom: 1px solid var(--border);
}
.tx-row {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 20px;
  border-bottom: 1px solid var(--border);
  cursor: pointer;
  transition: background .12s;
}
.tx-row:last-child { border-bottom: none; }
.tx-row:hover { background: var(--surface2); }
.tx-icon-wrap {
  width: 34px; height: 34px; border-radius: 8px;
  background: var(--surface2);
  border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; font-size: 14px;
}
.tx-info { flex: 1; min-width: 0; }
.tx-name { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.tx-cat  { font-size: 11px; color: var(--text3); margin-top: 1px; }
.tx-date-col { font-size: 11px; color: var(--text3); white-space: nowrap; }
.tx-amount { font-size: 13px; font-weight: 600; white-space: nowrap; }
.tx-amount.neg { color: var(--red); }
.tx-amount.pos { color: var(--green); }
.tx-del {
  width: 24px; height: 24px; border-radius: 5px;
  display: flex; align-items: center; justify-content: center;
  color: var(--text3); opacity: 0;
  transition: opacity .15s, background .15s, color .15s;
  flex-shrink: 0;
}
.tx-row:hover .tx-del { opacity: 1; }
.tx-del:hover { background: rgba(255,87,87,.1); color: var(--red); }
.tx-del svg { width: 12px; height: 12px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SUBSCRIPTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.subs-summary {
  display: flex; align-items: baseline; gap: 6px;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border);
  background: var(--bg2);
}
.subs-total {
  font-family: 'Instrument Serif', serif;
  font-size: 30px; letter-spacing: -.5px;
}
.subs-total-label { font-size: 13px; color: var(--text2); }

.sub-head {
  display: grid;
  grid-template-columns: 1fr 90px 110px 86px 30px;
  padding: 7px 20px;
  font-size: 10px; font-weight: 600;
  letter-spacing: .07em; text-transform: uppercase;
  color: var(--text3);
  border-bottom: 1px solid var(--border);
  background: var(--bg2);
  gap: 8px;
}
.sub-row {
  display: grid;
  grid-template-columns: 1fr 90px 110px 86px 30px;
  align-items: center;
  padding: 11px 20px;
  border-bottom: 1px solid var(--border);
  gap: 8px;
  transition: background .12s; cursor: default;
}
.sub-row:last-child { border-bottom: none; }
.sub-row:hover { background: var(--surface2); }
.sub-name { font-size: 13px; font-weight: 500; }
.sub-cat-label { font-size: 11px; color: var(--text3); margin-top: 2px; }
.sub-price { font-size: 13px; font-weight: 600; }
.sub-next { font-size: 12px; color: var(--text2); }
.pill {
  display: inline-block; padding: 2px 8px;
  border-radius: 20px; font-size: 10px; font-weight: 600;
}
.pill.ok   { background: rgba(62,207,142,.12); color: var(--green); }
.pill.warn { background: rgba(245,158,11,.12);  color: #f59e0b; }
.sub-del-btn {
  width: 26px; height: 26px; border-radius: 6px;
  display: flex; align-items: center; justify-content: center;
  color: var(--text3); transition: background .12s, color .12s;
  cursor: pointer; border: none; background: none;
}
.sub-del-btn:hover { background: rgba(255,87,87,.1); color: var(--red); }
.sub-del-btn svg { width: 12px; height: 12px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FIXED COSTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.fixed-head {
  display: grid;
  grid-template-columns: 1fr 110px 86px 80px 30px;
  gap: 8px;
  padding: 7px 20px;
  font-size: 10px; font-weight: 600;
  letter-spacing: .07em; text-transform: uppercase;
  color: var(--text3);
  border-bottom: 1px solid var(--border);
  background: var(--bg2);
}
.fixed-row {
  display: grid;
  grid-template-columns: 1fr 110px 86px 80px 30px;
  align-items: center;
  padding: 11px 20px;
  border-bottom: 1px solid var(--border);
  gap: 8px;
  transition: background .12s;
}
.fixed-row:last-child { border-bottom: none; }
.fixed-row:hover { background: var(--surface2); }
.fixed-name { font-size: 13px; font-weight: 500; }
.fixed-detail { font-size: 11px; color: var(--text3); margin-top: 2px; }
.fixed-expires { font-size: 12px; color: var(--text2); }
.fixed-amount { font-size: 13px; font-weight: 600; text-align: right; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GOALS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.goals-grid { display: grid; grid-template-columns: repeat(2,1fr); gap: 12px; padding: 16px 20px; }
.goal-card {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 16px;
  position: relative;
}
.goal-name { font-size: 13px; font-weight: 600; margin-bottom: 3px; }
.goal-target-label { font-size: 11px; color: var(--text3); margin-bottom: 12px; }
.goal-track { height: 4px; background: var(--border); border-radius: 2px; margin-bottom: 8px; }
.goal-fill { height: 100%; border-radius: 2px; background: var(--accent); transition: width .6s ease; }
[data-theme="light"] .goal-fill { background: var(--text); }
.goal-foot { display: flex; justify-content: space-between; font-size: 11px; }
.goal-saved { font-weight: 600; }
.goal-pct { color: var(--text3); }
.goal-del {
  position: absolute; top: 10px; right: 10px;
  width: 22px; height: 22px; border-radius: 5px;
  display: flex; align-items: center; justify-content: center;
  color: var(--text3); opacity: 0;
  transition: opacity .15s, background .15s, color .15s;
  cursor: pointer; border: none; background: none;
}
.goal-card:hover .goal-del { opacity: 1; }
.goal-del:hover { background: rgba(255,87,87,.1); color: var(--red); }
.goal-del svg { width: 11px; height: 11px; }
.goal-add {
  background: transparent;
  border: 1px dashed var(--border);
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  gap: 8px; cursor: pointer; color: var(--text3);
  font-size: 13px; min-height: 96px;
  transition: background .15s, color .15s;
}
.goal-add:hover { background: var(--surface2); color: var(--text2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMPTY STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.empty {
  padding: 48px 20px;
  text-align: center;
  color: var(--text3);
}
.empty-title { font-size: 14px; font-weight: 500; color: var(--text2); margin-bottom: 4px; }
.empty-sub { font-size: 12px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.modal-overlay {
  position: fixed; inset: 0;
  background: var(--overlay);
  z-index: 100;
  display: flex; align-items: center; justify-content: center;
  padding: 16px;
  opacity: 0; pointer-events: none;
  transition: opacity .2s;
}
.modal-overlay.open { opacity: 1; pointer-events: all; }
.modal {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 16px;
  width: 100%; max-width: 420px;
  padding: 26px;
  transform: translateY(12px);
  transition: transform .2s;
  box-shadow: 0 24px 60px rgba(0,0,0,.4);
}
.modal-overlay.open .modal { transform: translateY(0); }
.modal-title {
  font-family: 'Instrument Serif', serif;
  font-size: 20px; letter-spacing: -.2px;
  margin-bottom: 20px;
}
.form-group { margin-bottom: 14px; }
.form-label { display: block; font-size: 11px; font-weight: 600; letter-spacing: .06em; text-transform: uppercase; color: var(--text3); margin-bottom: 6px; }
.form-input {
  width: 100%; padding: 9px 12px;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text);
  font-size: 13px;
  transition: border-color .15s;
  outline: none;
}
.form-input:focus { border-color: var(--blue); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.form-actions { display: flex; gap: 8px; margin-top: 20px; justify-content: flex-end; }
.btn-cancel {
  padding: 8px 16px; border-radius: 8px;
  font-size: 13px; font-weight: 500;
  background: var(--surface2); color: var(--text2);
  border: 1px solid var(--border);
  cursor: pointer; transition: background .15s;
}
.btn-cancel:hover { background: var(--border); }
.btn-save {
  padding: 8px 18px; border-radius: 8px;
  font-size: 13px; font-weight: 600;
  background: var(--accent); color: var(--accent-fg);
  cursor: pointer; transition: opacity .15s;
  border: none;
}
.btn-save:hover { opacity: .85; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ADD BUTTON
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.btn-primary {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 8px 14px;
  background: var(--accent); color: var(--accent-fg);
  border-radius: 8px; font-size: 13px; font-weight: 600;
  cursor: pointer; border: none; transition: opacity .15s;
}
.btn-primary:hover { opacity: .85; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FILTER TABS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.filter-tabs {
  display: flex; gap: 0;
  border-bottom: 1px solid var(--border);
  padding: 0 4px;
}
.filter-tab {
  padding: 10px 14px;
  font-size: 12px; font-weight: 500;
  color: var(--text3); cursor: pointer;
  border-bottom: 2px solid transparent;
  margin-bottom: -1px;
  transition: color .15s, border-color .15s;
  border: none; background: none;
}
.filter-tab.active { color: var(--text); border-bottom: 2px solid var(--text); }
.filter-tab:hover:not(.active) { color: var(--text2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INSTALL BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.install-banner {
  position: fixed; bottom: 20px; right: 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px 18px;
  display: flex; align-items: center; gap: 12px;
  box-shadow: var(--shadow);
  z-index: 50;
  max-width: 300px;
  animation: slideUp .3s ease;
}
@keyframes slideUp { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
.install-text { flex:1; font-size: 13px; }
.install-title { font-weight: 600; margin-bottom: 2px; }
.install-sub { font-size: 11px; color: var(--text2); }
.install-btn { background: var(--accent); color: var(--accent-fg); border-radius:7px; padding:6px 12px; font-size:12px; font-weight:600; border:none; cursor:pointer; flex-shrink:0; }
.install-dismiss { color: var(--text3); font-size: 18px; cursor:pointer; line-height:1; background:none; border:none; padding:2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ANIMATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeUp { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
.kpi { animation: fadeUp .3s ease both; }
.kpi:nth-child(1){animation-delay:.03s}.kpi:nth-child(2){animation-delay:.06s}
.kpi:nth-child(3){animation-delay:.09s}.kpi:nth-child(4){animation-delay:.12s}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TAB SECTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.tab-section { display: none; }
.tab-section.active { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   RESPONSIVE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 768px) {
  .mob-header { display: flex; }
  .sidebar {
    transform: translateX(-100%);
    top: 0;
  }
  .sidebar.open { transform: translateX(0); }
  .mob-overlay.open { display: block; }
  .main { margin-left: 0; padding: 70px 16px 80px; }
  .kpi-row { grid-template-columns: repeat(2,1fr); }
  .grid-2 { grid-template-columns: 1fr; }
  .sub-head, .sub-row { grid-template-columns: 1fr 80px 30px; }
  .sub-head .h-next, .sub-row .sub-next,
  .sub-head .h-status, .sub-row .sub-status { display: none; }
  .fixed-head, .fixed-row { grid-template-columns: 1fr 80px 30px; }
  .fixed-head .h-exp, .fixed-row .fixed-expires,
  .fixed-head .h-st, .fixed-row .fixed-status { display: none; }
  .goals-grid { grid-template-columns: 1fr; }
  .page-title { font-size: 22px; }
  .install-banner { bottom: 16px; right: 16px; left: 16px; max-width: none; }
}
</style>
</head>
<body>

<!-- â•â•â•â•â•â• MOBILE HEADER â•â•â•â•â•â• -->
<div class="mob-header">
  <div class="mob-logo">fin<em>ans</em></div>
  <div class="burger" onclick="toggleSidebar()">
    <span></span><span></span><span></span>
  </div>
</div>
<div class="mob-overlay" id="mobOverlay" onclick="toggleSidebar()"></div>

<!-- â•â•â•â•â•â• APP â•â•â•â•â•â• -->
<div class="app">

<!-- â•â•â•â• SIDEBAR â•â•â•â• -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-mark">fin<em>ans</em></div>
  </div>
  <nav class="sidebar-nav">
    <div class="nav-section">Overzicht</div>
    <button class="nav-item active" onclick="showTab('dashboard',this)">
      <span class="nav-ico"><svg viewBox="0 0 16 16" fill="none"><rect x="1.5" y="1.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.2"/><rect x="9.5" y="1.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.2"/><rect x="1.5" y="9.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.2"/><rect x="9.5" y="9.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.2"/></svg></span>
      Dashboard
    </button>
    <button class="nav-item" onclick="showTab('transactions',this)">
      <span class="nav-ico"><svg viewBox="0 0 16 16" fill="none"><polyline points="1.5,11 5,7 8,10 14.5,3.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
      Transacties
    </button>
    <div class="nav-section">Beheer</div>
    <button class="nav-item" onclick="showTab('subscriptions',this)">
      <span class="nav-ico"><svg viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.2"/><polyline points="5.5,8 7,9.5 10.5,6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
      Abonnementen
    </button>
    <button class="nav-item" onclick="showTab('fixed',this)">
      <span class="nav-ico"><svg viewBox="0 0 16 16" fill="none"><path d="M8 1.5L14.5 6v8.5H1.5V6L8 1.5Z" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round"/><rect x="5.5" y="9" width="5" height="6" stroke="currentColor" stroke-width="1.2"/></svg></span>
      Vaste lasten
    </button>
    <button class="nav-item" onclick="showTab('goals',this)">
      <span class="nav-ico"><svg viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.2"/><circle cx="8" cy="8" r="3" stroke="currentColor" stroke-width="1.2"/></svg></span>
      Spaardoelen
    </button>
  </nav>
  <div class="sidebar-footer">
    <div class="theme-row" onclick="toggleTheme()">
      <span>Licht / Donker</span>
      <div class="toggle-track"><div class="toggle-thumb"></div></div>
    </div>
  </div>
</aside>

<!-- â•â•â•â• MAIN â•â•â•â• -->
<main class="main">

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  DASHBOARD
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="tab-dashboard" class="tab-section active">
  <div class="topbar">
    <div class="page-title" id="dash-title">Laden...</div>
    <div class="month-nav">
      <button class="mnav-btn" onclick="changeMonth(-1)">&#8592;</button>
      <div class="mnav-label" id="month-label">â€”</div>
      <button class="mnav-btn" onclick="changeMonth(1)">&#8594;</button>
    </div>
  </div>

  <div class="kpi-row">
    <div class="kpi">
      <div class="kpi-label">Inkomsten</div>
      <div class="kpi-value pos" id="kpi-income">â‚¬ 0</div>
      <div class="kpi-sub" id="kpi-income-sub">â€”</div>
    </div>
    <div class="kpi">
      <div class="kpi-label">Uitgaven</div>
      <div class="kpi-value" id="kpi-expense">â‚¬ 0</div>
      <div class="kpi-sub" id="kpi-expense-sub">â€”</div>
    </div>
    <div class="kpi netto">
      <div class="kpi-label">Netto balans</div>
      <div class="kpi-value" id="kpi-balance">â‚¬ 0</div>
      <div class="kpi-sub" id="kpi-balance-sub">â€”</div>
      <div class="kpi-bar"><div class="kpi-bar-fill" id="kpi-bar" style="width:0%"></div></div>
    </div>
    <div class="kpi">
      <div class="kpi-label">Abonnementen / mnd</div>
      <div class="kpi-value" id="kpi-subs">â‚¬ 0</div>
      <div class="kpi-sub" id="kpi-subs-sub">â€”</div>
    </div>
  </div>

  <div class="grid-2">
    <!-- Grafiek -->
    <div class="card">
      <div class="card-head">
        <div class="card-title">Laatste 6 maanden</div>
        <div class="chart-legend">
          <div class="legend-item"><div class="legend-dot" style="background:var(--green)"></div>Inkomen</div>
          <div class="legend-item"><div class="legend-dot" style="background:var(--blue)"></div>Uitgaven</div>
        </div>
      </div>
      <div class="chart-wrap">
        <div class="bar-chart" id="bar-chart"></div>
        <div class="chart-months" id="chart-months"></div>
      </div>
    </div>

    <!-- CategorieÃ«n -->
    <div class="card">
      <div class="card-head">
        <div class="card-title">Uitgaven per categorie</div>
      </div>
      <div class="cat-list" id="cat-list"></div>
    </div>
  </div>

  <!-- Recente transacties -->
  <div class="card">
    <div class="card-head">
      <div class="card-title">Recente transacties</div>
      <button class="card-action" onclick="showTab('transactions', document.querySelectorAll('.nav-item')[1])">Alles â†’</button>
    </div>
    <div id="dash-tx-list" class="tx-list"></div>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TRANSACTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="tab-transactions" class="tab-section">
  <div class="topbar">
    <div class="page-title">Transacties</div>
    <button class="btn-primary" onclick="openModal('tx')">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><line x1="6.5" y1="1.5" x2="6.5" y2="11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><line x1="1.5" y1="6.5" x2="11.5" y2="6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      Toevoegen
    </button>
  </div>
  <div class="card">
    <div class="filter-tabs">
      <button class="filter-tab active" onclick="setTxFilter('all',this)">Alles</button>
      <button class="filter-tab" onclick="setTxFilter('expense',this)">Uitgaven</button>
      <button class="filter-tab" onclick="setTxFilter('income',this)">Inkomsten</button>
    </div>
    <div id="tx-list" class="tx-list"></div>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  SUBSCRIPTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="tab-subscriptions" class="tab-section">
  <div class="topbar">
    <div class="page-title">Abonnementen</div>
    <button class="btn-primary" onclick="openModal('sub')">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><line x1="6.5" y1="1.5" x2="6.5" y2="11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><line x1="1.5" y1="6.5" x2="11.5" y2="6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      Toevoegen
    </button>
  </div>
  <div class="card">
    <div class="subs-summary">
      <span class="subs-total" id="subs-total">â‚¬ 0</span>
      <span class="subs-total-label" id="subs-total-label">/ maand</span>
    </div>
    <div class="sub-head">
      <div>Naam</div>
      <div>Per maand</div>
      <div class="h-next">Volgende betaling</div>
      <div class="h-status">Status</div>
      <div></div>
    </div>
    <div id="sub-list" class="tx-list"></div>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  FIXED COSTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="tab-fixed" class="tab-section">
  <div class="topbar">
    <div class="page-title">Vaste lasten</div>
    <button class="btn-primary" onclick="openModal('fixed')">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><line x1="6.5" y1="1.5" x2="6.5" y2="11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><line x1="1.5" y1="6.5" x2="11.5" y2="6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      Toevoegen
    </button>
  </div>
  <div class="card">
    <div class="fixed-head">
      <div>Naam</div>
      <div class="h-exp">Contract loopt af</div>
      <div class="h-st">Status</div>
      <div style="text-align:right">Per maand</div>
      <div></div>
    </div>
    <div id="fixed-list" class="tx-list"></div>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  GOALS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="tab-goals" class="tab-section">
  <div class="topbar">
    <div class="page-title">Spaardoelen</div>
    <button class="btn-primary" onclick="openModal('goal')">
      <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><line x1="6.5" y1="1.5" x2="6.5" y2="11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><line x1="1.5" y1="6.5" x2="11.5" y2="6.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      Nieuw doel
    </button>
  </div>
  <div class="card">
    <div class="goals-grid" id="goals-grid"></div>
  </div>
</div>

</main>
</div><!-- end .app -->

<!-- â•â•â•â•â•â• MODALS â•â•â•â•â•â• -->

<!-- Transaction modal -->
<div class="modal-overlay" id="modal-tx">
  <div class="modal">
    <div class="modal-title">Transactie toevoegen</div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Type</label>
        <select class="form-input" id="tx-type">
          <option value="expense">Uitgave</option>
          <option value="income">Inkomst</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Bedrag (â‚¬)</label>
        <input class="form-input" id="tx-amount" type="number" step="0.01" min="0" placeholder="0,00">
      </div>
    </div>
    <div class="form-group">
      <label class="form-label">Omschrijving</label>
      <input class="form-input" id="tx-name" type="text" placeholder="Albert Heijn, Salaris, ...">
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Categorie</label>
        <select class="form-input" id="tx-cat">
          <option>Boodschappen</option>
          <option>Wonen</option>
          <option>Transport</option>
          <option>Horeca</option>
          <option>Gezondheid</option>
          <option>Sport</option>
          <option>Abonnement</option>
          <option>Salaris</option>
          <option>Freelance</option>
          <option>Overig</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Datum</label>
        <input class="form-input" id="tx-date" type="date">
      </div>
    </div>
    <div class="form-actions">
      <button class="btn-cancel" onclick="closeModal('tx')">Annuleren</button>
      <button class="btn-save" onclick="saveTx()">Opslaan</button>
    </div>
  </div>
</div>

<!-- Subscription modal -->
<div class="modal-overlay" id="modal-sub">
  <div class="modal">
    <div class="modal-title">Abonnement toevoegen</div>
    <div class="form-group">
      <label class="form-label">Naam</label>
      <input class="form-input" id="sub-name" type="text" placeholder="Netflix, Spotify, ...">
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Bedrag per maand (â‚¬)</label>
        <input class="form-input" id="sub-amount" type="number" step="0.01" min="0" placeholder="0,00">
      </div>
      <div class="form-group">
        <label class="form-label">Volgende betaling</label>
        <input class="form-input" id="sub-next" type="date">
      </div>
    </div>
    <div class="form-group">
      <label class="form-label">Categorie</label>
      <select class="form-input" id="sub-cat">
        <option>Streaming</option>
        <option>Muziek</option>
        <option>Cloud opslag</option>
        <option>Sport</option>
        <option>Software</option>
        <option>Nieuws</option>
        <option>Overig</option>
      </select>
    </div>
    <div class="form-actions">
      <button class="btn-cancel" onclick="closeModal('sub')">Annuleren</button>
      <button class="btn-save" onclick="saveSub()">Opslaan</button>
    </div>
  </div>
</div>

<!-- Fixed costs modal -->
<div class="modal-overlay" id="modal-fixed">
  <div class="modal">
    <div class="modal-title">Vaste last toevoegen</div>
    <div class="form-group">
      <label class="form-label">Naam</label>
      <input class="form-input" id="fixed-name" type="text" placeholder="Huur, Energie, KPN, ...">
    </div>
    <div class="form-group">
      <label class="form-label">Details</label>
      <input class="form-input" id="fixed-detail" type="text" placeholder="Bijv. 500 Mbit/s, Gas + stroom">
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Bedrag per maand (â‚¬)</label>
        <input class="form-input" id="fixed-amount" type="number" step="0.01" min="0" placeholder="0,00">
      </div>
      <div class="form-group">
        <label class="form-label">Contract loopt af</label>
        <input class="form-input" id="fixed-expires" type="month">
      </div>
    </div>
    <div class="form-actions">
      <button class="btn-cancel" onclick="closeModal('fixed')">Annuleren</button>
      <button class="btn-save" onclick="saveFixed()">Opslaan</button>
    </div>
  </div>
</div>

<!-- Goal modal -->
<div class="modal-overlay" id="modal-goal">
  <div class="modal">
    <div class="modal-title">Spaardoel toevoegen</div>
    <div class="form-group">
      <label class="form-label">Naam</label>
      <input class="form-input" id="goal-name" type="text" placeholder="Vakantie, Auto, Noodfonds, ...">
    </div>
    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Doelbedrag (â‚¬)</label>
        <input class="form-input" id="goal-target" type="number" step="1" min="0" placeholder="0">
      </div>
      <div class="form-group">
        <label class="form-label">Al gespaard (â‚¬)</label>
        <input class="form-input" id="goal-saved" type="number" step="1" min="0" placeholder="0">
      </div>
    </div>
    <div class="form-actions">
      <button class="btn-cancel" onclick="closeModal('goal')">Annuleren</button>
      <button class="btn-save" onclick="saveGoal()">Opslaan</button>
    </div>
  </div>
</div>

<!-- Install banner -->
<div class="install-banner" id="installBanner" style="display:none">
  <div class="install-text">
    <div class="install-title">Installeer als app</div>
    <div class="install-sub">Zet op je beginscherm of desktop</div>
  </div>
  <button class="install-btn" id="installBtn">Installeren</button>
  <button class="install-dismiss" onclick="document.getElementById('installBanner').style.display='none'">Ã—</button>
</div>

<!-- â•â•â•â•â•â• JAVASCRIPT â•â•â•â•â•â• -->
<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DATA LAYER
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const KEYS = { tx: 'finans_tx', subs: 'finans_subs', fixed: 'finans_fixed', goals: 'finans_goals' };

function load(key) {
  try { return JSON.parse(localStorage.getItem(key)) || []; } catch { return []; }
}
function save(key, data) {
  localStorage.setItem(key, JSON.stringify(data));
}

let transactions = load(KEYS.tx);
let subscriptions = load(KEYS.subs);
let fixedCosts = load(KEYS.fixed);
let goals = load(KEYS.goals);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DATE / MONTH STATE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const MONTHS_NL = ['Januari','Februari','Maart','April','Mei','Juni','Juli','Augustus','September','Oktober','November','December'];
let currentYear  = new Date().getFullYear();
let currentMonth = new Date().getMonth(); // 0-indexed

function changeMonth(dir) {
  currentMonth += dir;
  if (currentMonth > 11) { currentMonth = 0; currentYear++; }
  if (currentMonth < 0)  { currentMonth = 11; currentYear--; }
  updateDashboard();
}

function fmt(n) {
  return 'â‚¬\u00a0' + n.toLocaleString('nl-NL', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}
function fmtShort(n) {
  return 'â‚¬\u00a0' + n.toLocaleString('nl-NL', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
}
function formatDate(iso) {
  const d = new Date(iso); 
  return d.toLocaleDateString('nl-NL', { day: 'numeric', month: 'short', year: 'numeric' });
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// DASHBOARD
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updateDashboard() {
  const label = MONTHS_NL[currentMonth] + ' ' + currentYear;
  document.getElementById('month-label').textContent = label;
  document.getElementById('dash-title').innerHTML = MONTHS_NL[currentMonth] + ' <em>' + currentYear + '</em>';

  // filter this month
  const monthTx = transactions.filter(t => {
    const d = new Date(t.date);
    return d.getMonth() === currentMonth && d.getFullYear() === currentYear;
  });

  const income  = monthTx.filter(t => t.type === 'income').reduce((s,t) => s + t.amount, 0);
  const expense = monthTx.filter(t => t.type === 'expense').reduce((s,t) => s + t.amount, 0);
  const balance = income - expense;
  const savePct = income > 0 ? Math.round((balance / income) * 100) : 0;

  document.getElementById('kpi-income').textContent  = fmt(income);
  document.getElementById('kpi-expense').textContent = fmt(expense);

  const balEl = document.getElementById('kpi-balance');
  balEl.textContent = (balance >= 0 ? '+ ' : 'âˆ’ ') + fmt(Math.abs(balance));
  balEl.className = 'kpi-value ' + (balance >= 0 ? 'pos' : 'neg');

  document.getElementById('kpi-income-sub').textContent  = monthTx.filter(t=>t.type==='income').length + ' transacties';
  document.getElementById('kpi-expense-sub').textContent = monthTx.filter(t=>t.type==='expense').length + ' transacties';
  document.getElementById('kpi-balance-sub').innerHTML   = income > 0
    ? '<span class="kpi-pill ' + (balance>=0?'green':'red') + '">' + savePct + '% v. inkomen</span>'
    : 'â€”';

  const subTotal = subscriptions.reduce((s,x) => s + x.amount, 0);
  document.getElementById('kpi-subs').textContent     = fmt(subTotal);
  document.getElementById('kpi-subs-sub').textContent = subscriptions.length + ' abonnementen';
  document.getElementById('kpi-bar').style.width      = Math.min(savePct, 100) + '%';

  // categories
  const cats = {};
  monthTx.filter(t=>t.type==='expense').forEach(t => {
    cats[t.category] = (cats[t.category]||0) + t.amount;
  });
  const catColors = ['var(--green)','var(--blue)','var(--red)','#f59e0b','#a78bfa','var(--text2)'];
  const catKeys = Object.keys(cats).sort((a,b)=>cats[b]-cats[a]);
  const maxCat = catKeys.length ? cats[catKeys[0]] : 1;
  const catEl = document.getElementById('cat-list');
  if (!catKeys.length) {
    catEl.innerHTML = '<div class="empty"><div class="empty-title">Geen uitgaven</div><div class="empty-sub">Voeg transacties toe om categorieÃ«n te zien</div></div>';
  } else {
    catEl.innerHTML = catKeys.slice(0,6).map((k,i) => `
      <div class="cat-row">
        <div class="cat-dot" style="background:${catColors[i%catColors.length]}"></div>
        <div class="cat-name-wrap"><div class="cat-name">${k}</div></div>
        <div class="cat-track"><div class="cat-fill" style="width:${(cats[k]/maxCat*100).toFixed(0)}%;background:${catColors[i%catColors.length]}"></div></div>
        <div class="cat-amount">${fmt(cats[k])}</div>
      </div>`).join('');
  }

  // 6-month bar chart
  const months6 = [];
  for (let i = 5; i >= 0; i--) {
    let m = currentMonth - i; let y = currentYear;
    if (m < 0) { m += 12; y--; }
    months6.push({ m, y, label: MONTHS_NL[m].slice(0,3) });
  }
  const maxBar = Math.max(...months6.map(({m,y}) => {
    const inc = transactions.filter(t=>t.type==='income'&&new Date(t.date).getMonth()===m&&new Date(t.date).getFullYear()===y).reduce((s,t)=>s+t.amount,0);
    const exp = transactions.filter(t=>t.type==='expense'&&new Date(t.date).getMonth()===m&&new Date(t.date).getFullYear()===y).reduce((s,t)=>s+t.amount,0);
    return Math.max(inc, exp);
  }), 1);

  document.getElementById('bar-chart').innerHTML = months6.map(({m,y}) => {
    const inc = transactions.filter(t=>t.type==='income'&&new Date(t.date).getMonth()===m&&new Date(t.date).getFullYear()===y).reduce((s,t)=>s+t.amount,0);
    const exp = transactions.filter(t=>t.type==='expense'&&new Date(t.date).getMonth()===m&&new Date(t.date).getFullYear()===y).reduce((s,t)=>s+t.amount,0);
    const hi = Math.round((inc/maxBar)*90);
    const he = Math.round((exp/maxBar)*90);
    return `<div class="bar-grp"><div class="bar in" style="height:${Math.max(hi,2)}px" title="${fmtShort(inc)}"></div><div class="bar out" style="height:${Math.max(he,2)}px" title="${fmtShort(exp)}"></div></div>`;
  }).join('');
  document.getElementById('chart-months').innerHTML = months6.map(({label})=>`<div class="chart-month">${label}</div>`).join('');

  // recent transactions
  const recent = [...transactions].sort((a,b)=>new Date(b.date)-new Date(a.date)).slice(0,6);
  renderTxRows(document.getElementById('dash-tx-list'), recent, false);

  // also refresh full tx list if visible
  renderTxList();
  renderSubList();
  renderFixedList();
  renderGoalsList();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// TRANSACTION LIST
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let txFilter = 'all';
function setTxFilter(f, el) {
  txFilter = f;
  document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
  el.classList.add('active');
  renderTxList();
}

const catIcons = {
  'Boodschappen': 'ğŸ›’', 'Wonen': 'ğŸ ', 'Transport': 'ğŸš‚', 'Horeca': 'ğŸ½',
  'Gezondheid': 'ğŸ’Š', 'Sport': 'ğŸƒ', 'Abonnement': 'â†»', 'Salaris': 'ğŸ’¼',
  'Freelance': 'ğŸ’»', 'Overig': 'Â·', 'Streaming': 'â–¶', 'Muziek': 'â™ª',
  'Cloud opslag': 'â˜', 'Software': 'âŒ¨', 'Nieuws': 'ğŸ“°'
};
function catIcon(cat) { return catIcons[cat] || 'Â·'; }

function delIcon() {
  return `<svg viewBox="0 0 12 12" fill="none"><line x1="2" y1="2" x2="10" y2="10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><line x1="10" y1="2" x2="2" y2="10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>`;
}

function renderTxRows(el, list, showDel=true) {
  if (!list.length) {
    el.innerHTML = `<div class="empty"><div class="empty-title">Geen transacties</div><div class="empty-sub">Klik op "+ Toevoegen" om te beginnen</div></div>`;
    return;
  }
  // group by date
  const groups = {};
  list.forEach(t => {
    const d = new Date(t.date);
    const key = d.toISOString().split('T')[0];
    if (!groups[key]) groups[key] = [];
    groups[key].push(t);
  });
  el.innerHTML = Object.keys(groups).sort((a,b)=>b.localeCompare(a)).map(dateKey => {
    const d = new Date(dateKey);
    const label = d.toLocaleDateString('nl-NL', {weekday:'long', day:'numeric', month:'long'});
    const rows = groups[dateKey].map(t => `
      <div class="tx-row">
        <div class="tx-icon-wrap" style="font-size:15px">${catIcon(t.category)}</div>
        <div class="tx-info">
          <div class="tx-name">${t.name}</div>
          <div class="tx-cat">${t.category}</div>
        </div>
        ${showDel ? `<button class="tx-del" onclick="deleteTx('${t.id}')" title="Verwijderen">${delIcon()}</button>` : ''}
        <div class="tx-amount ${t.type==='income'?'pos':'neg'}">${t.type==='income'?'+ ':'âˆ’ '}${fmt(t.amount)}</div>
      </div>`).join('');
    return `<div class="tx-group-label">${label}</div>${rows}`;
  }).join('');
}

function renderTxList() {
  const el = document.getElementById('tx-list');
  if (!el) return;
  let list = [...transactions].sort((a,b)=>new Date(b.date)-new Date(a.date));
  if (txFilter === 'expense') list = list.filter(t=>t.type==='expense');
  if (txFilter === 'income')  list = list.filter(t=>t.type==='income');
  renderTxRows(el, list, true);
}

function deleteTx(id) {
  transactions = transactions.filter(t => t.id !== id);
  save(KEYS.tx, transactions);
  updateDashboard();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// SUBSCRIPTIONS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderSubList() {
  const el = document.getElementById('sub-list');
  if (!el) return;
  const total = subscriptions.reduce((s,x)=>s+x.amount,0);
  const yearTotal = total * 12;
  document.getElementById('subs-total').textContent = fmt(total);
  document.getElementById('subs-total-label').textContent = `/ maand  Â·  ${fmt(yearTotal)} / jaar`;

  if (!subscriptions.length) {
    el.innerHTML = `<div class="empty"><div class="empty-title">Geen abonnementen</div><div class="empty-sub">Voeg abonnementen toe om het totaal bij te houden</div></div>`;
    return;
  }
  el.innerHTML = subscriptions.map(s => {
    const next = new Date(s.nextDate);
    const daysLeft = Math.round((next - new Date()) / 86400000);
    const warn = daysLeft <= 7;
    return `<div class="sub-row">
      <div><div class="sub-name">${s.name}</div><div class="sub-cat-label">${s.category}</div></div>
      <div class="sub-price">${fmt(s.amount)}</div>
      <div class="sub-next">${formatDate(s.nextDate)}</div>
      <div class="sub-status"><span class="pill ${warn?'warn':'ok'}">${warn?'Binnenkort':'Actief'}</span></div>
      <button class="sub-del-btn" onclick="deleteSub('${s.id}')" title="Verwijderen">${delIcon()}</button>
    </div>`;
  }).join('');
}

function deleteSub(id) {
  subscriptions = subscriptions.filter(s => s.id !== id);
  save(KEYS.subs, subscriptions);
  updateDashboard();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// FIXED COSTS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderFixedList() {
  const el = document.getElementById('fixed-list');
  if (!el) return;
  if (!fixedCosts.length) {
    el.innerHTML = `<div class="empty"><div class="empty-title">Geen vaste lasten</div><div class="empty-sub">Voeg huur, energie, verzekeringen toe</div></div>`;
    return;
  }
  el.innerHTML = fixedCosts.map(f => {
    const expiry = f.expires ? f.expires : null;
    let warn = false;
    if (expiry) {
      const months = (new Date(expiry+'-01') - new Date()) / (1000*60*60*24*30);
      warn = months < 3;
    }
    return `<div class="fixed-row">
      <div><div class="fixed-name">${f.name}</div><div class="fixed-detail">${f.detail||''}</div></div>
      <div class="fixed-expires">${expiry ? expiry : 'Doorlopend'}</div>
      <div class="fixed-status"><span class="pill ${warn?'warn':'ok'}">${warn?'Bijna verlopen':'Actueel'}</span></div>
      <div class="fixed-amount">${fmt(f.amount)}</div>
      <button class="sub-del-btn" onclick="deleteFixed('${f.id}')" title="Verwijderen">${delIcon()}</button>
    </div>`;
  }).join('');
}

function deleteFixed(id) {
  fixedCosts = fixedCosts.filter(f => f.id !== id);
  save(KEYS.fixed, fixedCosts);
  renderFixedList();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// GOALS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderGoalsList() {
  const el = document.getElementById('goals-grid');
  if (!el) return;
  let html = goals.map(g => {
    const pct = g.target > 0 ? Math.min(Math.round((g.saved/g.target)*100),100) : 0;
    return `<div class="goal-card">
      <button class="goal-del" onclick="deleteGoal('${g.id}')" title="Verwijderen">${delIcon()}</button>
      <div class="goal-name">${g.name}</div>
      <div class="goal-target-label">Doel: ${fmt(g.target)}</div>
      <div class="goal-track"><div class="goal-fill" style="width:${pct}%"></div></div>
      <div class="goal-foot">
        <span class="goal-saved">${fmt(g.saved)} gespaard</span>
        <span class="goal-pct">${pct}%</span>
      </div>
    </div>`;
  }).join('');
  html += `<div class="goal-add" onclick="openModal('goal')">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><line x1="8" y1="3" x2="8" y2="13" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><line x1="3" y1="8" x2="13" y2="8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
    Nieuw doel
  </div>`;
  el.innerHTML = html;
}

function deleteGoal(id) {
  goals = goals.filter(g => g.id !== id);
  save(KEYS.goals, goals);
  renderGoalsList();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// MODALS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function openModal(type) {
  // set today as default date for tx
  if (type === 'tx') document.getElementById('tx-date').value = new Date().toISOString().split('T')[0];
  document.getElementById('modal-'+type).classList.add('open');
}
function closeModal(type) {
  document.getElementById('modal-'+type).classList.remove('open');
}
// close on overlay click
document.querySelectorAll('.modal-overlay').forEach(el => {
  el.addEventListener('click', e => { if (e.target === el) el.classList.remove('open'); });
});

function uid() { return Date.now().toString(36) + Math.random().toString(36).slice(2); }

function saveTx() {
  const amount = parseFloat(document.getElementById('tx-amount').value);
  const name   = document.getElementById('tx-name').value.trim();
  const type   = document.getElementById('tx-type').value;
  const cat    = document.getElementById('tx-cat').value;
  const date   = document.getElementById('tx-date').value;
  if (!amount || !name || !date) { alert('Vul alle velden in.'); return; }
  transactions.push({ id: uid(), amount, name, type, category: cat, date });
  save(KEYS.tx, transactions);
  closeModal('tx');
  document.getElementById('tx-amount').value = '';
  document.getElementById('tx-name').value = '';
  updateDashboard();
}

function saveSub() {
  const name   = document.getElementById('sub-name').value.trim();
  const amount = parseFloat(document.getElementById('sub-amount').value);
  const next   = document.getElementById('sub-next').value;
  const cat    = document.getElementById('sub-cat').value;
  if (!name || !amount || !next) { alert('Vul alle velden in.'); return; }
  subscriptions.push({ id: uid(), name, amount, nextDate: next, category: cat });
  save(KEYS.subs, subscriptions);
  closeModal('sub');
  document.getElementById('sub-name').value = '';
  document.getElementById('sub-amount').value = '';
  updateDashboard();
}

function saveFixed() {
  const name    = document.getElementById('fixed-name').value.trim();
  const detail  = document.getElementById('fixed-detail').value.trim();
  const amount  = parseFloat(document.getElementById('fixed-amount').value);
  const expires = document.getElementById('fixed-expires').value;
  if (!name || !amount) { alert('Vul naam en bedrag in.'); return; }
  fixedCosts.push({ id: uid(), name, detail, amount, expires });
  save(KEYS.fixed, fixedCosts);
  closeModal('fixed');
  document.getElementById('fixed-name').value = '';
  document.getElementById('fixed-detail').value = '';
  document.getElementById('fixed-amount').value = '';
  document.getElementById('fixed-expires').value = '';
  renderFixedList();
}

function saveGoal() {
  const name   = document.getElementById('goal-name').value.trim();
  const target = parseFloat(document.getElementById('goal-target').value) || 0;
  const saved  = parseFloat(document.getElementById('goal-saved').value) || 0;
  if (!name || !target) { alert('Vul naam en doelbedrag in.'); return; }
  goals.push({ id: uid(), name, target, saved });
  save(KEYS.goals, goals);
  closeModal('goal');
  document.getElementById('goal-name').value = '';
  document.getElementById('goal-target').value = '';
  document.getElementById('goal-saved').value = '';
  renderGoalsList();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// NAV
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showTab(id, el) {
  document.querySelectorAll('.tab-section').forEach(t => t.classList.remove('active'));
  document.getElementById('tab-'+id).classList.add('active');
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  if (el) el.classList.add('active');
  // close mobile sidebar
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('mobOverlay').classList.remove('open');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// THEME
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleTheme() {
  const html = document.documentElement;
  const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('finans_theme', next);
  document.querySelector('meta[name=theme-color]').setAttribute('content', next === 'dark' ? '#0c0c0e' : '#f4f4f0');
}
const savedTheme = localStorage.getItem('finans_theme');
if (savedTheme) document.documentElement.setAttribute('data-theme', savedTheme);

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// MOBILE SIDEBAR
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('mobOverlay').classList.toggle('open');
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// PWA INSTALL
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let deferredPrompt;
window.addEventListener('beforeinstallprompt', e => {
  e.preventDefault();
  deferredPrompt = e;
  document.getElementById('installBanner').style.display = 'flex';
});
document.getElementById('installBtn').addEventListener('click', async () => {
  if (!deferredPrompt) return;
  deferredPrompt.prompt();
  const { outcome } = await deferredPrompt.userChoice;
  deferredPrompt = null;
  document.getElementById('installBanner').style.display = 'none';
});
window.addEventListener('appinstalled', () => {
  document.getElementById('installBanner').style.display = 'none';
});

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// INIT
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
updateDashboard();
</script>
</body>
</html>
